<header class="layout-area--header" role="banner">

	{%- comment -%}
		site.pages is automatically populated by Jekyll with all standalone HTML and Markdown files in the project that are not posts, drafts, or special files (like those in _posts, _includes, _layouts, sass, etc.).

		It includes all .html and .md files in the root and subdirectories (except for those in special folders), making each file a Page object accessible via site.pages.
	{%- endcomment -%}

	{%- assign default_paths = site.pages | map: "path" -%}
	{%- assign page_paths = site.header_pages | default: default_paths -%}

	{%- assign _logo = page.logo | default: site.logo -%}
	<a class="header-area--title" rel="author" href="{{ "/" | relative_url }}">
		{%- if _logo -%}
		<img src="{{ _logo | relative_url }}" alt="{{ site.title | escape }}">
		{%- else -%}
		{{ site.title | escape }}
		{%- endif -%}
	</a>

	<button type="button" class="hamburger" aria-label="Toggle navigation menu" aria-expanded="false">
		<span class="menu-icon">
			<svg width="30" height="30" viewBox="0 0 100 100" aria-hidden="true">
				<path class="line line--top"    d="M 0,30 H 100"/>
				<path class="line line--middle" d="M 0,50 H 100"/>
				<path class="line line--bottom" d="M 0,70 H 100"/>
			</svg>
		</span>
	</button>

	{%- if page.rules_nav -%}
	{%- assign rules_pages = site.pages | where: "rules_nav", page.rules_nav | sort: "nav_order" -%}
	<nav class="header-area--nav" aria-label="Rules navigation">
		<div class="trigger">
			{%- for rules_page in rules_pages -%}
			{%- unless rules_page.nav_exclude -%}
			<a class="page-link{% if rules_page.url == page.url %} is-active{% endif %}" href="{{ rules_page.url | relative_url }}">{{- rules_page.link_title | default: rules_page.title | escape -}}</a>
			{%- endunless -%}
		{%- endfor -%}
		</div>
	</nav>
	{%- elsif page_paths -%}
	<nav class="header-area--nav" aria-label="Main navigation">
		<div class="trigger">
			{%- for path in page_paths -%}
			{%- assign my_page = site.pages | where: "path", path | first -%}
			{%- if my_page.link_title -%}
			<a class="page-link {{ my_page.classes }}" href="{{ my_page.url | relative_url }}">{{ my_page.link_title | escape }}</a>
			{%- elsif my_page.title -%}
			<a class="page-link {{ my_page.classes }}" href="{{ my_page.url | relative_url }}">{{ my_page.title | escape }}</a>
			{%- endif -%}
			{%- endfor -%}
		</div>
	</nav>
	{%- endif -%}

</header>